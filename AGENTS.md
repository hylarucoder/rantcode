# Repository Guidelines

1. 尽量使用中文回复
2. 如果没有强制要求，尽量不要写兼容代码

## Project Structure & Module Organization

- `src/main/` – Electron main process (window creation, app lifecycle).
- `src/preload/` – preload scripts, bridges `electron`/`api` into the renderer.
- `src/renderer/` – React front-end (SPA UI, components, assets).
- `resources/` – application icons and packaging assets.
- `build/` – build artifacts generated by `electron-vite` / `electron-builder`.

Keep new code in the appropriate layer (main vs preload vs renderer) and avoid cross‑layer imports.

## Build, Test, and Development Commands

- `pnpm dev` – start Electron + renderer in development mode with HMR.
- `pnpm build` – type‑check and build for production.
- `pnpm start` – run the built app.
- `pnpm lint` – run ESLint on all source files.
- `pnpm typecheck` – run TypeScript type checking for main and renderer.

Use `pnpm` consistently; do not mix `npm`/`yarn` in scripts or docs.

## Coding Style & Naming Conventions

- Language: TypeScript for main, preload, and renderer code.
- Formatting: Prettier (`pnpm format`) with default repo config.
- Linting: ESLint with `@electron-toolkit` presets.
- Indentation: 2 spaces for TS/JS/React; no tabs.
- Naming: `PascalCase` for React components, `camelCase` for variables/functions, `SCREAMING_SNAKE_CASE` for constants.

Prefer small, focused modules; keep platform‑specific logic in main/preload instead of the renderer.

## Testing Guidelines

Currently there is no dedicated automated test suite configured. When adding tests:

- Co‑locate tests next to source files as `*.test.ts(x)`.
- Prefer lightweight, deterministic tests (no real network or filesystem side effects).
- Add a `pnpm test` script if you introduce a test runner.

## Commit & Pull Request Guidelines

- Commits: use clear, imperative messages (e.g., `Add preload API for fs access`, `Fix renderer crash on startup`).
- Scope commits narrowly; avoid mixing refactors with behavior changes.
- Pull Requests:
  - Provide a concise description and rationale.
  - Reference related issues (e.g., `Closes #123`).
  - Include before/after screenshots for visible UI changes.
  - Mention any new commands, config, or breaking changes.

## Security & Configuration Tips

- Never commit secrets or API keys; use environment variables or secure config files.
- Be careful with filesystem and shell access from renderer; route privileged operations through preload/main only.
